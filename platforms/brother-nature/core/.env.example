# Brother Nature Platform - Environment Variables
# Copy this file to .env and update with your actual values

# Application
NODE_ENV=development
PORT=3000
HOST=0.0.0.0
LOG_LEVEL=debug

# Database
# PostgreSQL connection via Supabase (required per ADR-0401)
#
# For Supabase (recommended):
#   1. Create project at https://supabase.com
#   2. Go to Project Settings > Database
#   3. Copy both connection strings (Session mode and Transaction mode)
#   4. Replace [YOUR-PASSWORD] with your database password
#   5. CRITICAL: Always use quotes around URLs
#
# IMPORTANT: Prisma requires TWO connection strings:
#   - DATABASE_URL: Pooled connection (port 6543) for application runtime
#   - DIRECT_URL: Direct connection (port 5432) for migrations only
#
# Without DIRECT_URL, migration commands will hang indefinitely.
#
# Connect to Supabase via connection pooling (runtime)
DATABASE_URL="postgresql://postgres.tygshgeywmkuruljnfif:[YOUR-PASSWORD]@aws-1-ap-southeast-2.pooler.supabase.com:6543/postgres?pgbouncer=true"

# Direct connection for migrations (required for npx prisma db push)
DIRECT_URL="postgresql://postgres.tygshgeywmkuruljnfif:[YOUR-PASSWORD]@aws-1-ap-southeast-2.pooler.supabase.com:5432/postgres"
#
# For local PostgreSQL (if not using Supabase):
# DATABASE_URL="postgresql://brother_nature:development_password@localhost:5432/brother_nature_dev"
# DIRECT_URL="postgresql://brother_nature:development_password@localhost:5432/brother_nature_dev"
#

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# JWT Authentication
JWT_SECRET=your-secret-key-change-in-production

# CORS
CORS_ORIGIN=*

# XRP Ledger Integration
# Network options:
#   - Mainnet: wss://xrplcluster.com
#   - Testnet: wss://s.altnet.rippletest.net:51233
XRPL_NETWORK=testnet
XRPL_SERVER=wss://s.altnet.rippletest.net:51233

# XRPL Issuer Account (for token distribution)
# To create a testnet wallet and get test XRP:
#   1. Visit https://xrpl.org/xrp-testnet-faucet.html
#   2. Click "Generate Testnet Credentials"
#   3. Copy the Address and Secret below
#   4. The faucet will fund your wallet with 1000 test XRP
XRPL_ISSUER_ADDRESS=rYourTestnetAddressHere
XRPL_ISSUER_SECRET=sYourTestnetSecretHere

# Token Configuration
# These are the currency codes for the three ecosystem tokens
# Standard format: 3-character alphabetic codes
EXPLORER_TOKEN_CURRENCY=EXP
REGEN_TOKEN_CURRENCY=RGN
GUARDIAN_TOKEN_CURRENCY=GRD

# IPFS (optional for MVP, but included for future use)
IPFS_API_URL=http://localhost:5001
IPFS_GATEWAY_URL=http://localhost:8080

# AWS S3 (optional for MVP)
AWS_REGION=us-east-1
AWS_S3_BUCKET=brother-nature-assets
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# AI Synthesis (for future Claude API integration)
ANTHROPIC_API_KEY=
AI_MODEL=claude-3.5-sonnet

# Rate Limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=15m

# Deployment
APP_URL=http://localhost:3000
DEPLOY_PATH=/var/www/carboncaptureshield.com/BrotherNature
